import json
import os
from glob import glob

ROOT = os.path.dirname(os.path.dirname(__file__))
LOCALE_DIR = os.path.join(ROOT, 'Localization')

# Per-language translations for statistics keys
# Keys mirror those added previously; values are human translations (not English)
TRANSLATIONS = {
    'en': {
        "stats.chart.insights": "Insights",
        "stats.chart.calories": "Calories",
        "stats.chart.macros": "Macronutrients",
        "stats.chart.personweight": "Body Weight",
        "stats.chart.foodweight": "Food Weight",
        "stats.chart.trends": "Trends",
        "stats.axis.date": "Date",
        "stats.axis.calories": "Calories",
        "stats.axis.weight": "Weight",
        "stats.axis.foodweight": "Food Weight",
        "stats.axis.proteins": "Proteins",
        "stats.axis.fats": "Fats",
        "stats.axis.carbs": "Carbs",
        "stats.axis.fiber": "Fiber",
        "stats.weight.current": "Current",
        "stats.weight.latest": "Latest",
        "stats.weight.empty.title": "No weight data available",
        "stats.weight.empty.subtitle": "Submit weight via camera or manual entry",
        "stats.trend.title": "Trend Analysis",
        "stats.trend.calories": "Calories Trend",
        "stats.trend.body_weight": "Body Weight Trend",
        "stats.trend.food_weight": "Food Weight Trend",
        "stats.insights.title": "Insights Overview",
        "stats.insights.active_days": "Active Days",
        "stats.insights.avg_daily_calories": "Avg Daily Calories",
        "stats.insights.avg_food_weight": "Avg Food Weight",
        "stats.insights.avg_protein": "Avg Protein",
        "stats.insights.avg_fiber": "Avg Fiber",
        "stats.insights.avg_body_weight": "Avg Body Weight",
        "stats.summary.title_format": "Summary (%@)",
        "stats.summary.avg_calories": "Avg Calories",
        "stats.summary.avg_food": "Avg Food",
        "stats.summary.avg_protein": "Avg Protein",
        "stats.summary.avg_fiber": "Avg Fiber",
    },
    'es': {
        "stats.chart.insights": "Ideas",
        "stats.chart.calories": "Calorías",
        "stats.chart.macros": "Macronutrientes",
        "stats.chart.personweight": "Peso corporal",
        "stats.chart.foodweight": "Peso de comida",
        "stats.chart.trends": "Tendencias",
        "stats.axis.date": "Fecha",
        "stats.axis.calories": "Calorías",
        "stats.axis.weight": "Peso",
        "stats.axis.foodweight": "Peso de comida",
        "stats.axis.proteins": "Proteínas",
        "stats.axis.fats": "Grasas",
        "stats.axis.carbs": "Carbohidratos",
        "stats.axis.fiber": "Fibra",
        "stats.weight.current": "Actual",
        "stats.weight.latest": "Más reciente",
        "stats.weight.empty.title": "No hay datos de peso disponibles",
        "stats.weight.empty.subtitle": "Enviar peso con la cámara o entrada manual",
        "stats.trend.title": "Análisis de tendencias",
        "stats.trend.calories": "Tendencia de calorías",
        "stats.trend.body_weight": "Tendencia de peso corporal",
        "stats.trend.food_weight": "Tendencia de peso de comida",
        "stats.insights.title": "Resumen de ideas",
        "stats.insights.active_days": "Días activos",
        "stats.insights.avg_daily_calories": "Prom. calorías diarias",
        "stats.insights.avg_food_weight": "Prom. peso de comida",
        "stats.insights.avg_protein": "Prom. proteína",
        "stats.insights.avg_fiber": "Prom. fibra",
        "stats.insights.avg_body_weight": "Prom. peso corporal",
        "stats.summary.title_format": "Resumen (%@)",
        "stats.summary.avg_calories": "Prom. calorías",
        "stats.summary.avg_food": "Prom. comida",
        "stats.summary.avg_protein": "Prom. proteína",
        "stats.summary.avg_fiber": "Prom. fibra",
    },
    'fr': {
        "stats.chart.insights": "Aperçus",
        "stats.chart.calories": "Calories",
        "stats.chart.macros": "Macronutriments",
        "stats.chart.personweight": "Poids corporel",
        "stats.chart.foodweight": "Poids des aliments",
        "stats.chart.trends": "Tendances",
        "stats.axis.date": "Date",
        "stats.axis.calories": "Calories",
        "stats.axis.weight": "Poids",
        "stats.axis.foodweight": "Poids des aliments",
        "stats.axis.proteins": "Protéines",
        "stats.axis.fats": "Graisses",
        "stats.axis.carbs": "Glucides",
        "stats.axis.fiber": "Fibres",
        "stats.weight.current": "Actuel",
        "stats.weight.latest": "Le plus récent",
        "stats.weight.empty.title": "Aucune donnée de poids disponible",
        "stats.weight.empty.subtitle": "Envoyez le poids via la caméra ou saisie manuelle",
        "stats.trend.title": "Analyse des tendances",
        "stats.trend.calories": "Tendance des calories",
        "stats.trend.body_weight": "Tendance du poids corporel",
        "stats.trend.food_weight": "Tendance du poids des aliments",
        "stats.insights.title": "Aperçu des insights",
        "stats.insights.active_days": "Jours actifs",
        "stats.insights.avg_daily_calories": "Moy. calories/jour",
        "stats.insights.avg_food_weight": "Moy. poids des aliments",
        "stats.insights.avg_protein": "Moy. protéines",
        "stats.insights.avg_fiber": "Moy. fibres",
        "stats.insights.avg_body_weight": "Moy. poids corporel",
        "stats.summary.title_format": "Résumé (%@)",
        "stats.summary.avg_calories": "Moy. calories",
        "stats.summary.avg_food": "Moy. aliments",
        "stats.summary.avg_protein": "Moy. protéines",
        "stats.summary.avg_fiber": "Moy. fibres",
    },
    'de': {
        "stats.chart.insights": "Einblicke",
        "stats.chart.calories": "Kalorien",
        "stats.chart.macros": "Makronährstoffe",
        "stats.chart.personweight": "Körpergewicht",
        "stats.chart.foodweight": "Lebensmittelgewicht",
        "stats.chart.trends": "Trends",
        "stats.axis.date": "Datum",
        "stats.axis.calories": "Kalorien",
        "stats.axis.weight": "Gewicht",
        "stats.axis.foodweight": "Lebensmittelgewicht",
        "stats.axis.proteins": "Proteine",
        "stats.axis.fats": "Fette",
        "stats.axis.carbs": "Kohlenhydrate",
        "stats.axis.fiber": "Ballaststoffe",
        "stats.weight.current": "Aktuell",
        "stats.weight.latest": "Neueste",
        "stats.weight.empty.title": "Keine Gewichtsdaten verfügbar",
        "stats.weight.empty.subtitle": "Gewicht per Kamera oder manuell eingeben",
        "stats.trend.title": "Trendanalyse",
        "stats.trend.calories": "Kalorientrend",
        "stats.trend.body_weight": "Körpergewichtstrend",
        "stats.trend.food_weight": "Lebensmittelgewichtstrend",
        "stats.insights.title": "Insights-Übersicht",
        "stats.insights.active_days": "Aktive Tage",
        "stats.insights.avg_daily_calories": "Durchschn. tägliche Kalorien",
        "stats.insights.avg_food_weight": "Durchschn. Lebensmittelgewicht",
        "stats.insights.avg_protein": "Durchschn. Protein",
        "stats.insights.avg_fiber": "Durchschn. Ballaststoffe",
        "stats.insights.avg_body_weight": "Durchschn. Körpergewicht",
        "stats.summary.title_format": "Zusammenfassung (%@)",
        "stats.summary.avg_calories": "Durchschn. Kalorien",
        "stats.summary.avg_food": "Durchschn. Lebensmittel",
        "stats.summary.avg_protein": "Durchschn. Protein",
        "stats.summary.avg_fiber": "Durchschn. Ballaststoffe",
    },
    'it': {
        "stats.chart.insights": "Approfondimenti",
        "stats.chart.calories": "Calorie",
        "stats.chart.macros": "Macronutrienti",
        "stats.chart.personweight": "Peso corporeo",
        "stats.chart.foodweight": "Peso alimento",
        "stats.chart.trends": "Tendenze",
        "stats.axis.date": "Data",
        "stats.axis.calories": "Calorie",
        "stats.axis.weight": "Peso",
        "stats.axis.foodweight": "Peso alimento",
        "stats.axis.proteins": "Proteine",
        "stats.axis.fats": "Grassi",
        "stats.axis.carbs": "Carboidrati",
        "stats.axis.fiber": "Fibre",
        "stats.weight.current": "Attuale",
        "stats.weight.latest": "Più recente",
        "stats.weight.empty.title": "Nessun dato di peso disponibile",
        "stats.weight.empty.subtitle": "Invia il peso tramite fotocamera o inserimento manuale",
        "stats.trend.title": "Analisi delle tendenze",
        "stats.trend.calories": "Tendenza calorie",
        "stats.trend.body_weight": "Tendenza peso corporeo",
        "stats.trend.food_weight": "Tendenza peso alimento",
        "stats.insights.title": "Panoramica approfondimenti",
        "stats.insights.active_days": "Giorni attivi",
        "stats.insights.avg_daily_calories": "Media calorie giornaliere",
        "stats.insights.avg_food_weight": "Media peso alimento",
        "stats.insights.avg_protein": "Media proteine",
        "stats.insights.avg_fiber": "Media fibre",
        "stats.insights.avg_body_weight": "Media peso corporeo",
        "stats.summary.title_format": "Riepilogo (%@)",
        "stats.summary.avg_calories": "Calorie medie",
        "stats.summary.avg_food": "Cibo medio",
        "stats.summary.avg_protein": "Proteine medie",
        "stats.summary.avg_fiber": "Fibre medie",
    },
    'pt': {
        "stats.chart.insights": "Insights",
        "stats.chart.calories": "Calorias",
        "stats.chart.macros": "Macronutrientes",
        "stats.chart.personweight": "Peso corporal",
        "stats.chart.foodweight": "Peso dos alimentos",
        "stats.chart.trends": "Tendências",
        "stats.axis.date": "Data",
        "stats.axis.calories": "Calorias",
        "stats.axis.weight": "Peso",
        "stats.axis.foodweight": "Peso dos alimentos",
        "stats.axis.proteins": "Proteínas",
        "stats.axis.fats": "Gorduras",
        "stats.axis.carbs": "Carboidratos",
        "stats.axis.fiber": "Fibras",
        "stats.weight.current": "Atual",
        "stats.weight.latest": "Mais recente",
        "stats.weight.empty.title": "Sem dados de peso disponíveis",
        "stats.weight.empty.subtitle": "Envie o peso pela câmera ou entrada manual",
        "stats.trend.title": "Análise de tendências",
        "stats.trend.calories": "Tendência de calorias",
        "stats.trend.body_weight": "Tendência do peso corporal",
        "stats.trend.food_weight": "Tendência do peso dos alimentos",
        "stats.insights.title": "Visão geral dos insights",
        "stats.insights.active_days": "Dias ativos",
        "stats.insights.avg_daily_calories": "Média de calorias diárias",
        "stats.insights.avg_food_weight": "Média do peso dos alimentos",
        "stats.insights.avg_protein": "Média de proteínas",
        "stats.insights.avg_fiber": "Média de fibras",
        "stats.insights.avg_body_weight": "Média do peso corporal",
        "stats.summary.title_format": "Resumo (%@)",
        "stats.summary.avg_calories": "Média de calorias",
        "stats.summary.avg_food": "Média de alimentos",
        "stats.summary.avg_protein": "Média de proteínas",
        "stats.summary.avg_fiber": "Média de fibras",
    },
    'ru': {
        "stats.chart.insights": "Аналитика",
        "stats.chart.calories": "Калории",
        "stats.chart.macros": "Макронутриенты",
        "stats.chart.personweight": "Вес тела",
        "stats.chart.foodweight": "Вес пищи",
        "stats.chart.trends": "Тренды",
        "stats.axis.date": "Дата",
        "stats.axis.calories": "Калории",
        "stats.axis.weight": "Вес",
        "stats.axis.foodweight": "Вес пищи",
        "stats.axis.proteins": "Белки",
        "stats.axis.fats": "Жиры",
        "stats.axis.carbs": "Углеводы",
        "stats.axis.fiber": "Клетчатка",
        "stats.weight.current": "Текущий",
        "stats.weight.latest": "Последний",
        "stats.weight.empty.title": "Нет данных о весе",
        "stats.weight.empty.subtitle": "Отправьте вес через камеру или вручную",
        "stats.trend.title": "Анализ трендов",
        "stats.trend.calories": "Тренд калорий",
        "stats.trend.body_weight": "Тренд веса тела",
        "stats.trend.food_weight": "Тренд веса пищи",
        "stats.insights.title": "Обзор аналитики",
        "stats.insights.active_days": "Активные дни",
        "stats.insights.avg_daily_calories": "Сред. дневные калории",
        "stats.insights.avg_food_weight": "Сред. вес пищи",
        "stats.insights.avg_protein": "Сред. белки",
        "stats.insights.avg_fiber": "Сред. клетчатка",
        "stats.insights.avg_body_weight": "Сред. вес тела",
        "stats.summary.title_format": "Итоги (%@)",
        "stats.summary.avg_calories": "Сред. калории",
        "stats.summary.avg_food": "Сред. пища",
        "stats.summary.avg_protein": "Сред. белки",
        "stats.summary.avg_fiber": "Сред. клетчатка",
    },
    'uk': {
        "stats.chart.insights": "Аналітика",
        "stats.chart.calories": "Калорії",
        "stats.chart.macros": "Макронутрієнти",
        "stats.chart.personweight": "Маса тіла",
        "stats.chart.foodweight": "Вага їжі",
        "stats.chart.trends": "Тренди",
        "stats.axis.date": "Дата",
        "stats.axis.calories": "Калорії",
        "stats.axis.weight": "Вага",
        "stats.axis.foodweight": "Вага їжі",
        "stats.axis.proteins": "Білки",
        "stats.axis.fats": "Жири",
        "stats.axis.carbs": "Вуглеводи",
        "stats.axis.fiber": "Клітковина",
        "stats.weight.current": "Поточна",
        "stats.weight.latest": "Остання",
        "stats.weight.empty.title": "Немає даних ваги",
        "stats.weight.empty.subtitle": "Надішліть вагу через камеру або вручну",
        "stats.trend.title": "Аналіз трендів",
        "stats.trend.calories": "Тренд калорій",
        "stats.trend.body_weight": "Тренд маси тіла",
        "stats.trend.food_weight": "Тренд ваги їжі",
        "stats.insights.title": "Огляд аналітики",
        "stats.insights.active_days": "Активні дні",
        "stats.insights.avg_daily_calories": "Сер. денні калорії",
        "stats.insights.avg_food_weight": "Сер. вага їжі",
        "stats.insights.avg_protein": "Сер. білки",
        "stats.insights.avg_fiber": "Сер. клітковина",
        "stats.insights.avg_body_weight": "Сер. маса тіла",
        "stats.summary.title_format": "Підсумок (%@)",
        "stats.summary.avg_calories": "Сер. калорії",
        "stats.summary.avg_food": "Сер. їжа",
        "stats.summary.avg_protein": "Сер. білки",
        "stats.summary.avg_fiber": "Сер. клітковина",
    },
    'pl': {
        "stats.chart.insights": "Wglądy",
        "stats.chart.calories": "Kalorie",
        "stats.chart.macros": "Makroskładniki",
        "stats.chart.personweight": "Masa ciała",
        "stats.chart.foodweight": "Masa jedzenia",
        "stats.chart.trends": "Trendy",
        "stats.axis.date": "Data",
        "stats.axis.calories": "Kalorie",
        "stats.axis.weight": "Waga",
        "stats.axis.foodweight": "Masa jedzenia",
        "stats.axis.proteins": "Białka",
        "stats.axis.fats": "Tłuszcze",
        "stats.axis.carbs": "Węglowodany",
        "stats.axis.fiber": "Błonnik",
        "stats.weight.current": "Bieżąca",
        "stats.weight.latest": "Najnowsza",
        "stats.weight.empty.title": "Brak danych o wadze",
        "stats.weight.empty.subtitle": "Prześlij wagę przez aparat lub ręcznie",
        "stats.trend.title": "Analiza trendów",
        "stats.trend.calories": "Trend kalorii",
        "stats.trend.body_weight": "Trend masy ciała",
        "stats.trend.food_weight": "Trend masy jedzenia",
        "stats.insights.title": "Przegląd wglądów",
        "stats.insights.active_days": "Aktywne dni",
        "stats.insights.avg_daily_calories": "Śr. dzienne kalorie",
        "stats.insights.avg_food_weight": "Śr. masa jedzenia",
        "stats.insights.avg_protein": "Śr. białko",
        "stats.insights.avg_fiber": "Śr. błonnik",
        "stats.insights.avg_body_weight": "Śr. masa ciała",
        "stats.summary.title_format": "Podsumowanie (%@)",
        "stats.summary.avg_calories": "Śr. kalorie",
        "stats.summary.avg_food": "Śr. jedzenie",
        "stats.summary.avg_protein": "Śr. białko",
        "stats.summary.avg_fiber": "Śr. błonnik",
    },
    'nl': {
        "stats.chart.insights": "Inzichten",
        "stats.chart.calories": "Calorieën",
        "stats.chart.macros": "Macronutriënten",
        "stats.chart.personweight": "Lichaamsgewicht",
        "stats.chart.foodweight": "Voedselgewicht",
        "stats.chart.trends": "Trends",
        "stats.axis.date": "Datum",
        "stats.axis.calories": "Calorieën",
        "stats.axis.weight": "Gewicht",
        "stats.axis.foodweight": "Voedselgewicht",
        "stats.axis.proteins": "Eiwitten",
        "stats.axis.fats": "Vetten",
        "stats.axis.carbs": "Koolhydraten",
        "stats.axis.fiber": "Vezels",
        "stats.weight.current": "Huidig",
        "stats.weight.latest": "Meest recent",
        "stats.weight.empty.title": "Geen gewichtgegevens beschikbaar",
        "stats.weight.empty.subtitle": "Dien gewicht in via camera of handmatig",
        "stats.trend.title": "Trendanalyse",
        "stats.trend.calories": "Calorie-trend",
        "stats.trend.body_weight": "Lichaamsgewicht-trend",
        "stats.trend.food_weight": "Voedselgewicht-trend",
        "stats.insights.title": "Overzicht inzichten",
        "stats.insights.active_days": "Actieve dagen",
        "stats.insights.avg_daily_calories": "Gem. dagelijkse calorieën",
        "stats.insights.avg_food_weight": "Gem. voedselgewicht",
        "stats.insights.avg_protein": "Gem. eiwit",
        "stats.insights.avg_fiber": "Gem. vezels",
        "stats.insights.avg_body_weight": "Gem. lichaamsgewicht",
        "stats.summary.title_format": "Samenvatting (%@)",
        "stats.summary.avg_calories": "Gem. calorieën",
        "stats.summary.avg_food": "Gem. voedsel",
        "stats.summary.avg_protein": "Gem. eiwit",
        "stats.summary.avg_fiber": "Gem. vezels",
    },
    'sv': {
        "stats.chart.insights": "Insikter",
        "stats.chart.calories": "Kalorier",
        "stats.chart.macros": "Makronutrienter",
        "stats.chart.personweight": "Kroppsvikt",
        "stats.chart.foodweight": "Matvikt",
        "stats.chart.trends": "Trender",
        "stats.axis.date": "Datum",
        "stats.axis.calories": "Kalorier",
        "stats.axis.weight": "Vikt",
        "stats.axis.foodweight": "Matvikt",
        "stats.axis.proteins": "Proteiner",
        "stats.axis.fats": "Fetter",
        "stats.axis.carbs": "Kolhydrater",
        "stats.axis.fiber": "Fiber",
        "stats.weight.current": "Aktuell",
        "stats.weight.latest": "Senaste",
        "stats.weight.empty.title": "Inga viktdata tillgängliga",
        "stats.weight.empty.subtitle": "Skicka vikt via kamera eller manuell inmatning",
        "stats.trend.title": "Trendanalys",
        "stats.trend.calories": "Kaloritrend",
        "stats.trend.body_weight": "Kroppsviktstrend",
        "stats.trend.food_weight": "Matviktstrend",
        "stats.insights.title": "Översikt av insikter",
        "stats.insights.active_days": "Aktiva dagar",
        "stats.insights.avg_daily_calories": "Snitt dagliga kalorier",
        "stats.insights.avg_food_weight": "Snitt matvikt",
        "stats.insights.avg_protein": "Snitt protein",
        "stats.insights.avg_fiber": "Snitt fiber",
        "stats.insights.avg_body_weight": "Snitt kroppsvikt",
        "stats.summary.title_format": "Sammanfattning (%@)",
        "stats.summary.avg_calories": "Snitt kalorier",
        "stats.summary.avg_food": "Snitt mat",
        "stats.summary.avg_protein": "Snitt protein",
        "stats.summary.avg_fiber": "Snitt fiber",
    },
    'da': {
        "stats.chart.insights": "Indsigter",
        "stats.chart.calories": "Kalorier",
        "stats.chart.macros": "Makronæringsstoffer",
        "stats.chart.personweight": "Kropsvægt",
        "stats.chart.foodweight": "Madvægt",
        "stats.chart.trends": "Tendenser",
        "stats.axis.date": "Dato",
        "stats.axis.calories": "Kalorier",
        "stats.axis.weight": "Vægt",
        "stats.axis.foodweight": "Madvægt",
        "stats.axis.proteins": "Proteiner",
        "stats.axis.fats": "Fedt",
        "stats.axis.carbs": "Kulhydrater",
        "stats.axis.fiber": "Fibre",
        "stats.weight.current": "Nuværende",
        "stats.weight.latest": "Seneste",
        "stats.weight.empty.title": "Ingen vægtdata tilgængelige",
        "stats.weight.empty.subtitle": "Indsend vægt via kamera eller manuel indtastning",
        "stats.trend.title": "Trendanalyse",
        "stats.trend.calories": "Kalorietrend",
        "stats.trend.body_weight": "Kropsvægttrend",
        "stats.trend.food_weight": "Madvægttrend",
        "stats.insights.title": "Oversigt over indsigter",
        "stats.insights.active_days": "Aktive dage",
        "stats.insights.avg_daily_calories": "Gns. daglige kalorier",
        "stats.insights.avg_food_weight": "Gns. madvægt",
        "stats.insights.avg_protein": "Gns. protein",
        "stats.insights.avg_fiber": "Gns. fibre",
        "stats.insights.avg_body_weight": "Gns. kropsvægt",
        "stats.summary.title_format": "Oversigt (%@)",
        "stats.summary.avg_calories": "Gns. kalorier",
        "stats.summary.avg_food": "Gns. mad",
        "stats.summary.avg_protein": "Gns. protein",
        "stats.summary.avg_fiber": "Gns. fibre",
    },
    'fi': {
        "stats.chart.insights": "Oivallukset",
        "stats.chart.calories": "Kalorit",
        "stats.chart.macros": "Makroravinteet",
        "stats.chart.personweight": "Kehonpaino",
        "stats.chart.foodweight": "Ruokapaino",
        "stats.chart.trends": "Trendit",
        "stats.axis.date": "Päivämäärä",
        "stats.axis.calories": "Kalorit",
        "stats.axis.weight": "Paino",
        "stats.axis.foodweight": "Ruokapaino",
        "stats.axis.proteins": "Proteiinit",
        "stats.axis.fats": "Rasvat",
        "stats.axis.carbs": "Hiilihydraatit",
        "stats.axis.fiber": "Kuitu",
        "stats.weight.current": "Nykyinen",
        "stats.weight.latest": "Uusin",
        "stats.weight.empty.title": "Painotietoja ei saatavilla",
        "stats.weight.empty.subtitle": "Lähetä paino kameralla tai syötä käsin",
        "stats.trend.title": "Trendianalyysi",
        "stats.trend.calories": "Kaloritrendi",
        "stats.trend.body_weight": "Kehonpainotrendi",
        "stats.trend.food_weight": "Ruokapainotrendi",
        "stats.insights.title": "Oivallusten yhteenveto",
        "stats.insights.active_days": "Aktiiviset päivät",
        "stats.insights.avg_daily_calories": "Keskim. päivittäiset kalorit",
        "stats.insights.avg_food_weight": "Keskim. ruokapaino",
        "stats.insights.avg_protein": "Keskim. proteiini",
        "stats.insights.avg_fiber": "Keskim. kuitu",
        "stats.insights.avg_body_weight": "Keskim. kehonpaino",
        "stats.summary.title_format": "Yhteenveto (%@)",
        "stats.summary.avg_calories": "Keskim. kalorit",
        "stats.summary.avg_food": "Keskim. ruoka",
        "stats.summary.avg_protein": "Keskim. proteiini",
        "stats.summary.avg_fiber": "Keskim. kuitu",
    },
    'et': {
        "stats.chart.insights": "Ülevaated",
        "stats.chart.calories": "Kalorid",
        "stats.chart.macros": "Makrotoitained",
        "stats.chart.personweight": "Kehakaal",
        "stats.chart.foodweight": "Toidu kaal",
        "stats.chart.trends": "Trendid",
        "stats.axis.date": "Kuupäev",
        "stats.axis.calories": "Kalorid",
        "stats.axis.weight": "Kaal",
        "stats.axis.foodweight": "Toidu kaal",
        "stats.axis.proteins": "Valgud",
        "stats.axis.fats": "Rasvad",
        "stats.axis.carbs": "Süsivesikud",
        "stats.axis.fiber": "Kiudained",
        "stats.weight.current": "Praegune",
        "stats.weight.latest": "Viimane",
        "stats.weight.empty.title": "Kaaluandmeid pole",
        "stats.weight.empty.subtitle": "Saada kaal kaamera kaudu või sisesta käsitsi",
        "stats.trend.title": "Trendianalüüs",
        "stats.trend.calories": "Kaloritrend",
        "stats.trend.body_weight": "Kehakaalu trend",
        "stats.trend.food_weight": "Toidukaalu trend",
        "stats.insights.title": "Ülevaate kokkuvõte",
        "stats.insights.active_days": "Aktiivsed päevad",
        "stats.insights.avg_daily_calories": "Keskm. päevased kalorid",
        "stats.insights.avg_food_weight": "Keskm. toidukaal",
        "stats.insights.avg_protein": "Keskm. valk",
        "stats.insights.avg_fiber": "Keskm. kiud",
        "stats.insights.avg_body_weight": "Keskm. kehakaal",
        "stats.summary.title_format": "Kokkuvõte (%@)",
        "stats.summary.avg_calories": "Keskm. kalorid",
        "stats.summary.avg_food": "Keskm. toit",
        "stats.summary.avg_protein": "Keskm. valk",
        "stats.summary.avg_fiber": "Keskm. kiud",
    },
    'cs': {
        "stats.chart.insights": "Postřehy",
        "stats.chart.calories": "Kalorie",
        "stats.chart.macros": "Makroživiny",
        "stats.chart.personweight": "Tělesná hmotnost",
        "stats.chart.foodweight": "Hmotnost jídla",
        "stats.chart.trends": "Trendy",
        "stats.axis.date": "Datum",
        "stats.axis.calories": "Kalorie",
        "stats.axis.weight": "Hmotnost",
        "stats.axis.foodweight": "Hmotnost jídla",
        "stats.axis.proteins": "Bílkoviny",
        "stats.axis.fats": "Tuky",
        "stats.axis.carbs": "Sacharidy",
        "stats.axis.fiber": "Vláknina",
        "stats.weight.current": "Aktuální",
        "stats.weight.latest": "Nejnovější",
        "stats.weight.empty.title": "Nejsou k dispozici žádná data o hmotnosti",
        "stats.weight.empty.subtitle": "Odešlete hmotnost přes fotoaparát nebo ručně",
        "stats.trend.title": "Analýza trendů",
        "stats.trend.calories": "Trendy kalorií",
        "stats.trend.body_weight": "Trendy tělesné hmotnosti",
        "stats.trend.food_weight": "Trendy hmotnosti jídla",
        "stats.insights.title": "Přehled postřehů",
        "stats.insights.active_days": "Aktivní dny",
        "stats.insights.avg_daily_calories": "Prům. denní kalorie",
        "stats.insights.avg_food_weight": "Prům. hmotnost jídla",
        "stats.insights.avg_protein": "Prům. bílkoviny",
        "stats.insights.avg_fiber": "Prům. vláknina",
        "stats.insights.avg_body_weight": "Prům. tělesná hmotnost",
        "stats.summary.title_format": "Souhrn (%@)",
        "stats.summary.avg_calories": "Prům. kalorie",
        "stats.summary.avg_food": "Prům. jídlo",
        "stats.summary.avg_protein": "Prům. bílkoviny",
        "stats.summary.avg_fiber": "Prům. vláknina",
    },
    'sk': {
        "stats.chart.insights": "Postrehy",
        "stats.chart.calories": "Kalórie",
        "stats.chart.macros": "Makroživiny",
        "stats.chart.personweight": "Telesná hmotnosť",
        "stats.chart.foodweight": "Hmotnosť jedla",
        "stats.chart.trends": "Trendy",
        "stats.axis.date": "Dátum",
        "stats.axis.calories": "Kalórie",
        "stats.axis.weight": "Hmotnosť",
        "stats.axis.foodweight": "Hmotnosť jedla",
        "stats.axis.proteins": "Bielkoviny",
        "stats.axis.fats": "Tuky",
        "stats.axis.carbs": "Sacharidy",
        "stats.axis.fiber": "Vláknina",
        "stats.weight.current": "Aktuálna",
        "stats.weight.latest": "Najnovšia",
        "stats.weight.empty.title": "Nie sú dostupné údaje o hmotnosti",
        "stats.weight.empty.subtitle": "Odošlite hmotnosť cez kameru alebo ručne",
        "stats.trend.title": "Analýza trendov",
        "stats.trend.calories": "Trend kalórií",
        "stats.trend.body_weight": "Trend telesnej hmotnosti",
        "stats.trend.food_weight": "Trend hmotnosti jedla",
        "stats.insights.title": "Prehľad postrehov",
        "stats.insights.active_days": "Aktívne dni",
        "stats.insights.avg_daily_calories": "Priem. denné kalórie",
        "stats.insights.avg_food_weight": "Priem. hmotnosť jedla",
        "stats.insights.avg_protein": "Priem. bielkoviny",
        "stats.insights.avg_fiber": "Priem. vláknina",
        "stats.insights.avg_body_weight": "Priem. telesná hmotnosť",
        "stats.summary.title_format": "Zhrnutie (%@)",
        "stats.summary.avg_calories": "Priem. kalórie",
        "stats.summary.avg_food": "Priem. jedlo",
        "stats.summary.avg_protein": "Priem. bielkoviny",
        "stats.summary.avg_fiber": "Priem. vláknina",
    },
    'sl': {
        "stats.chart.insights": "Vpogledi",
        "stats.chart.calories": "Kalorije",
        "stats.chart.macros": "Makrohranila",
        "stats.chart.personweight": "Telesna teža",
        "stats.chart.foodweight": "Teža hrane",
        "stats.chart.trends": "Trendi",
        "stats.axis.date": "Datum",
        "stats.axis.calories": "Kalorije",
        "stats.axis.weight": "Teža",
        "stats.axis.foodweight": "Teža hrane",
        "stats.axis.proteins": "Beljakovine",
        "stats.axis.fats": "Maščobe",
        "stats.axis.carbs": "Ogljikovi hidrati",
        "stats.axis.fiber": "Vlaknine",
        "stats.weight.current": "Trenutna",
        "stats.weight.latest": "Najnovejša",
        "stats.weight.empty.title": "Ni podatkov o teži",
        "stats.weight.empty.subtitle": "Pošljite težo preko kamere ali ročno",
        "stats.trend.title": "Analiza trendov",
        "stats.trend.calories": "Trend kalorij",
        "stats.trend.body_weight": "Trend telesne teže",
        "stats.trend.food_weight": "Trend teže hrane",
        "stats.insights.title": "Povzetek vpogledov",
        "stats.insights.active_days": "Aktivni dnevi",
        "stats.insights.avg_daily_calories": "Povpr. dnevne kalorije",
        "stats.insights.avg_food_weight": "Povpr. teža hrane",
        "stats.insights.avg_protein": "Povpr. beljakovine",
        "stats.insights.avg_fiber": "Povpr. vlaknine",
        "stats.insights.avg_body_weight": "Povpr. telesna teža",
        "stats.summary.title_format": "Povzetek (%@)",
        "stats.summary.avg_calories": "Povpr. kalorije",
        "stats.summary.avg_food": "Povpr. hrana",
        "stats.summary.avg_protein": "Povpr. beljakovine",
        "stats.summary.avg_fiber": "Povpr. vlaknine",
    },
    'ro': {
        "stats.chart.insights": "Informații",
        "stats.chart.calories": "Calorii",
        "stats.chart.macros": "Macronutrienți",
        "stats.chart.personweight": "Greutate corporală",
        "stats.chart.foodweight": "Greutatea alimentelor",
        "stats.chart.trends": "Tendințe",
        "stats.axis.date": "Data",
        "stats.axis.calories": "Calorii",
        "stats.axis.weight": "Greutate",
        "stats.axis.foodweight": "Greutatea alimentelor",
        "stats.axis.proteins": "Proteine",
        "stats.axis.fats": "Grăsimi",
        "stats.axis.carbs": "Carbohidrați",
        "stats.axis.fiber": "Fibre",
        "stats.weight.current": "Curentă",
        "stats.weight.latest": "Cea mai recentă",
        "stats.weight.empty.title": "Nu există date despre greutate",
        "stats.weight.empty.subtitle": "Trimite greutatea prin cameră sau introdu manual",
        "stats.trend.title": "Analiza tendințelor",
        "stats.trend.calories": "Tendința caloriilor",
        "stats.trend.body_weight": "Tendința greutății corporale",
        "stats.trend.food_weight": "Tendința greutății alimentelor",
        "stats.insights.title": "Prezentare generală",
        "stats.insights.active_days": "Zile active",
        "stats.insights.avg_daily_calories": "Medie zilnică calorii",
        "stats.insights.avg_food_weight": "Medie greutate alimente",
        "stats.insights.avg_protein": "Medie proteine",
        "stats.insights.avg_fiber": "Medie fibre",
        "stats.insights.avg_body_weight": "Medie greutate corporală",
        "stats.summary.title_format": "Rezumat (%@)",
        "stats.summary.avg_calories": "Medie calorii",
        "stats.summary.avg_food": "Medie alimente",
        "stats.summary.avg_protein": "Medie proteine",
        "stats.summary.avg_fiber": "Medie fibre",
    },
    'tr': {
        "stats.chart.insights": "Öngörüler",
        "stats.chart.calories": "Kaloriler",
        "stats.chart.macros": "Makrobesinler",
        "stats.chart.personweight": "Vücut ağırlığı",
        "stats.chart.foodweight": "Yiyecek ağırlığı",
        "stats.chart.trends": "Trendler",
        "stats.axis.date": "Tarih",
        "stats.axis.calories": "Kaloriler",
        "stats.axis.weight": "Ağırlık",
        "stats.axis.foodweight": "Yiyecek ağırlığı",
        "stats.axis.proteins": "Proteinler",
        "stats.axis.fats": "Yağlar",
        "stats.axis.carbs": "Karbonhidratlar",
        "stats.axis.fiber": "Lif",
        "stats.weight.current": "Güncel",
        "stats.weight.latest": "En yeni",
        "stats.weight.empty.title": "Ağırlık verisi yok",
        "stats.weight.empty.subtitle": "Ağırlığı kamera ile veya elle gönderin",
        "stats.trend.title": "Trend analizi",
        "stats.trend.calories": "Kalori trendi",
        "stats.trend.body_weight": "Vücut ağırlığı trendi",
        "stats.trend.food_weight": "Yiyecek ağırlığı trendi",
        "stats.insights.title": "Öngörü özeti",
        "stats.insights.active_days": "Aktif günler",
        "stats.insights.avg_daily_calories": "Ort. günlük kalori",
        "stats.insights.avg_food_weight": "Ort. yiyecek ağırlığı",
        "stats.insights.avg_protein": "Ort. protein",
        "stats.insights.avg_fiber": "Ort. lif",
        "stats.insights.avg_body_weight": "Ort. vücut ağırlığı",
        "stats.summary.title_format": "Özet (%@)",
        "stats.summary.avg_calories": "Ort. kalori",
        "stats.summary.avg_food": "Ort. yiyecek",
        "stats.summary.avg_protein": "Ort. protein",
        "stats.summary.avg_fiber": "Ort. lif",
    },
    'ar': {
        "stats.chart.insights": "تحليلات",
        "stats.chart.calories": "السعرات",
        "stats.chart.macros": "المغذيات الكبرى",
        "stats.chart.personweight": "وزن الجسم",
        "stats.chart.foodweight": "وزن الطعام",
        "stats.chart.trends": "الاتجاهات",
        "stats.axis.date": "التاريخ",
        "stats.axis.calories": "السعرات",
        "stats.axis.weight": "الوزن",
        "stats.axis.foodweight": "وزن الطعام",
        "stats.axis.proteins": "البروتينات",
        "stats.axis.fats": "الدهون",
        "stats.axis.carbs": "الكربوهيدرات",
        "stats.axis.fiber": "الألياف",
        "stats.weight.current": "الحالي",
        "stats.weight.latest": "الأحدث",
        "stats.weight.empty.title": "لا توجد بيانات للوزن",
        "stats.weight.empty.subtitle": "أرسل الوزن عبر الكاميرا أو الإدخال اليدوي",
        "stats.trend.title": "تحليل الاتجاه",
        "stats.trend.calories": "اتجاه السعرات",
        "stats.trend.body_weight": "اتجاه وزن الجسم",
        "stats.trend.food_weight": "اتجاه وزن الطعام",
        "stats.insights.title": "نظرة عامة",
        "stats.insights.active_days": "أيام نشطة",
        "stats.insights.avg_daily_calories": "متوسط السعرات اليومية",
        "stats.insights.avg_food_weight": "متوسط وزن الطعام",
        "stats.insights.avg_protein": "متوسط البروتين",
        "stats.insights.avg_fiber": "متوسط الألياف",
        "stats.insights.avg_body_weight": "متوسط وزن الجسم",
        "stats.summary.title_format": "الملخص (%@)",
        "stats.summary.avg_calories": "متوسط السعرات",
        "stats.summary.avg_food": "متوسط الطعام",
        "stats.summary.avg_protein": "متوسط البروتين",
        "stats.summary.avg_fiber": "متوسط الألياف",
    },
    'zh': {
        "stats.chart.insights": "洞察",
        "stats.chart.calories": "卡路里",
        "stats.chart.macros": "常量营养素",
        "stats.chart.personweight": "体重",
        "stats.chart.foodweight": "食物重量",
        "stats.chart.trends": "趋势",
        "stats.axis.date": "日期",
        "stats.axis.calories": "卡路里",
        "stats.axis.weight": "体重",
        "stats.axis.foodweight": "食物重量",
        "stats.axis.proteins": "蛋白质",
        "stats.axis.fats": "脂肪",
        "stats.axis.carbs": "碳水化合物",
        "stats.axis.fiber": "纤维",
        "stats.weight.current": "当前",
        "stats.weight.latest": "最新",
        "stats.weight.empty.title": "暂无体重数据",
        "stats.weight.empty.subtitle": "通过相机或手动提交体重",
        "stats.trend.title": "趋势分析",
        "stats.trend.calories": "卡路里趋势",
        "stats.trend.body_weight": "体重趋势",
        "stats.trend.food_weight": "食物重量趋势",
        "stats.insights.title": "洞察概览",
        "stats.insights.active_days": "活跃天数",
        "stats.insights.avg_daily_calories": "平均每日卡路里",
        "stats.insights.avg_food_weight": "平均食物重量",
        "stats.insights.avg_protein": "平均蛋白质",
        "stats.insights.avg_fiber": "平均纤维",
        "stats.insights.avg_body_weight": "平均体重",
        "stats.summary.title_format": "摘要（%@）",
        "stats.summary.avg_calories": "平均卡路里",
        "stats.summary.avg_food": "平均食物",
        "stats.summary.avg_protein": "平均蛋白质",
        "stats.summary.avg_fiber": "平均纤维",
    },
    'ja': {
        "stats.chart.insights": "インサイト",
        "stats.chart.calories": "カロリー",
        "stats.chart.macros": "マクロ栄養素",
        "stats.chart.personweight": "体重",
        "stats.chart.foodweight": "食品重量",
        "stats.chart.trends": "トレンド",
        "stats.axis.date": "日付",
        "stats.axis.calories": "カロリー",
        "stats.axis.weight": "体重",
        "stats.axis.foodweight": "食品重量",
        "stats.axis.proteins": "タンパク質",
        "stats.axis.fats": "脂肪",
        "stats.axis.carbs": "炭水化物",
        "stats.axis.fiber": "食物繊維",
        "stats.weight.current": "現在",
        "stats.weight.latest": "最新",
        "stats.weight.empty.title": "体重データがありません",
        "stats.weight.empty.subtitle": "カメラまたは手動で体重を送信",
        "stats.trend.title": "トレンド分析",
        "stats.trend.calories": "カロリートレンド",
        "stats.trend.body_weight": "体重トレンド",
        "stats.trend.food_weight": "食品重量トレンド",
        "stats.insights.title": "インサイト概要",
        "stats.insights.active_days": "アクティブ日数",
        "stats.insights.avg_daily_calories": "平均1日カロリー",
        "stats.insights.avg_food_weight": "平均食品重量",
        "stats.insights.avg_protein": "平均タンパク質",
        "stats.insights.avg_fiber": "平均食物繊維",
        "stats.insights.avg_body_weight": "平均体重",
        "stats.summary.title_format": "概要（%@）",
        "stats.summary.avg_calories": "平均カロリー",
        "stats.summary.avg_food": "平均食事",
        "stats.summary.avg_protein": "平均タンパク質",
        "stats.summary.avg_fiber": "平均食物繊維",
    },
    'ko': {
        "stats.chart.insights": "인사이트",
        "stats.chart.calories": "칼로리",
        "stats.chart.macros": "대영양소",
        "stats.chart.personweight": "체중",
        "stats.chart.foodweight": "음식 무게",
        "stats.chart.trends": "추세",
        "stats.axis.date": "날짜",
        "stats.axis.calories": "칼로리",
        "stats.axis.weight": "체중",
        "stats.axis.foodweight": "음식 무게",
        "stats.axis.proteins": "단백질",
        "stats.axis.fats": "지방",
        "stats.axis.carbs": "탄수화물",
        "stats.axis.fiber": "식이섬유",
        "stats.weight.current": "현재",
        "stats.weight.latest": "최신",
        "stats.weight.empty.title": "체중 데이터가 없습니다",
        "stats.weight.empty.subtitle": "카메라 또는 수동으로 체중 전송",
        "stats.trend.title": "추세 분석",
        "stats.trend.calories": "칼로리 추세",
        "stats.trend.body_weight": "체중 추세",
        "stats.trend.food_weight": "음식 무게 추세",
        "stats.insights.title": "인사이트 개요",
        "stats.insights.active_days": "활동 일수",
        "stats.insights.avg_daily_calories": "평균 일일 칼로리",
        "stats.insights.avg_food_weight": "평균 음식 무게",
        "stats.insights.avg_protein": "평균 단백질",
        "stats.insights.avg_fiber": "평균 식이섬유",
        "stats.insights.avg_body_weight": "평균 체중",
        "stats.summary.title_format": "요약(%@)",
        "stats.summary.avg_calories": "평균 칼로리",
        "stats.summary.avg_food": "평균 음식",
        "stats.summary.avg_protein": "평균 단백질",
        "stats.summary.avg_fiber": "평균 식이섬유",
    },
}

# Map repo language codes to our translation map codes if needed
CODE_MAP = {
    'zh': 'zh', 'vi': 'vi', 'ur': 'ur', 'uk': 'uk', 'tr': 'tr', 'th': 'th', 'sv': 'sv',
    'sl': 'sl', 'sk': 'sk', 'ro': 'ro', 'pt': 'pt', 'pl': 'pl', 'nl': 'nl', 'mt': 'mt',
    'lv': 'lv', 'lt': 'lt', 'ko': 'ko', 'ja': 'ja', 'it': 'it', 'hu': 'hu', 'hr': 'hr',
    'hi': 'hi', 'ga': 'ga', 'fr': 'fr', 'fi': 'fi', 'et': 'et', 'es': 'es', 'en': 'en',
    'el': 'el', 'de': 'de', 'da': 'da', 'cs': 'cs', 'bn': 'bn', 'bg': 'bg', 'be': 'be', 'ar': 'ar'
}

# For languages not provided above, we will fall back to English for now.

KEYS = list(next(iter(TRANSLATIONS.values())).keys())


def update_locale(path: str, lang_code: str) -> bool:
    try:
        with open(path, 'r', encoding='utf-8') as f:
            data = json.load(f)
    except Exception as e:
        print(f"Skip {path}: {e}")
        return False

    trans_code = CODE_MAP.get(lang_code, 'en')
    lang_trans = TRANSLATIONS.get(trans_code, TRANSLATIONS['en'])

    changed = False
    for k in KEYS:
        val = lang_trans.get(k)
        if not val:
            val = TRANSLATIONS['en'][k]
        if data.get(k) != val:
            data[k] = val
            changed = True

    if changed:
        data_sorted = {k: data[k] for k in sorted(data.keys())}
        with open(path, 'w', encoding='utf-8') as f:
            json.dump(data_sorted, f, ensure_ascii=False, indent=2)
    return changed


def main():
    files = sorted(glob(os.path.join(LOCALE_DIR, '*.json')))
    total = 0
    for p in files:
        name = os.path.basename(p)
        if name.lower() == 'contents.json':
            continue
        code = name.split('.')[0]
        if update_locale(p, code):
            print(f"Updated: {name}")
            total += 1
    print(f"Done. Updated {total}/{len(files)} files.")

if __name__ == '__main__':
    main()
